# 0.14.0

* ログイン無し視聴に対応
  * 一緒にキャッシュ動画のオフライン再生にも対応
  * ログインの流れを変更
* チャンネル動画関連
  * チャンネル動画一覧ページが開けなかった問題を解消
  * チャンネル動画での「次パート動画検出」に対応

## ログイン無し視聴に対応

ニコニコサービス側で対応していたログイン無し視聴にHohoemaも対応しました。

ログイン無しでも動画と生放送(※)を楽しめます。

> ※ユーザー生放送は今後ニコニコ側のログイン無し視聴対応を待って対応予定

またログイン無し視聴対応によって、キャッシュ動画をオフラインで再生できるように対応しました。

## ログインの流れを変更

これまでのログインは１ページを使った表現でしたが、0.14.0以降はポップアップするウィンドウの中でログイン操作を行うよう変更しました。

これはログイン無しでも使えるように変更したことで、あるページにアクセスしたときログインが必要となる場合がありますが、そういったときログイン操作を差し込みやすくする目的での変更です。

### ログイン画面削除、ようこそ画面追加

ログインの表示方法が変更になってログイン画面の表示がガラッと変わります。

アプリ初起動時に「ようこそ画面」を表示するようにしています。「ようこそ画面」では「ログイン案内」と「動画キャッシュ案内」をHohoemaを始めて利用するユーザーに提示します。

## チャンネル動画関連

チャンネル動画一覧ページが開けない問題を解消しました。ページに使用していたアイコンがOSバージョンによって正常に表示できないことが原因でした。

### チャンネル動画の次パート動画検出に対応

チャンネル動画の連続再生のしやすさを改善する目的で次パート動画検出機能をチャンネル動画でも行うよう対応しました。

対応にあたってはチャンネル動画にたまに見られる「全く同じ時間にシリーズの全動画を予約投稿している」というケースに対応することが重要でした。

日付だけでなく動画タイトルで並び替えて次パート動画を見つける、としたいところですが、この方法では 「第1話」の次が「第2話」ではなく「第10話」が来てしまうプログラミング上の問題に直面することになります。

そのため、強引なやり方ですが「動画ID」を利用した並び替えで次パート動画検出に対応しています。

> ※「動画ID」の割り当てが話数の順番通りになっていないチャンネル動画では正しく次パート動画を見つけられない可能性があります

将来的には、ニコニコ動画でも実装が期待される「シリーズ動画」の機能にHohoemaも対応して、前述の動画IDによる強引な検出方法を置き換えたいと考えています。

## その他の変更点

* ページタイトルの大きさを少し小さくしました
