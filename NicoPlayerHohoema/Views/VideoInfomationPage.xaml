<Page
    x:Class="NicoPlayerHohoema.Views.VideoInfomationPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:NicoPlayerHohoema.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:i="using:Microsoft.Xaml.Interactivity"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:toolkit="using:WinRTXamlToolkit.Controls"
    xmlns:mvvm="using:Prism.Windows.Mvvm"
    xmlns:videoInfo="using:NicoPlayerHohoema.Views.VideoInfoContent"
    mvvm:ViewModelLocator.AutoWireViewModel="True"
    mc:Ignorable="d"
    d:DesignWidth="1200"
    d:DesignHeight="720"
    >
    

   

    <Page.Resources>
        <DataTemplate x:Key="SummaryVideoInfoContentTemplate" >
            <videoInfo:SummaryVideoInfoContent Width="600" />
        </DataTemplate>
        
        <DataTemplate x:Key="TagsVideoInfoContentTemplate">
            <videoInfo:TagsVideoIncoContent />
        </DataTemplate>
        
        <DataTemplate x:Key="RelationVideoInfoContentTemplate" >
            <videoInfo:RelationVideoInfoContent />
        </DataTemplate>
        <DataTemplate x:Key="IchibaVideoInfoContentTemplate" >
            <videoInfo:IchibaVideoInfoContent />
        </DataTemplate>



        <local:VideoInfoContentTemplateSelector x:Key="VideoInfoContentTemplateSelector"
                                                Summary="{StaticResource SummaryVideoInfoContentTemplate}"
                                                Tags="{StaticResource TagsVideoInfoContentTemplate}"
                                                Relation="{StaticResource RelationVideoInfoContentTemplate}"
                                                Ichiba="{StaticResource IchibaVideoInfoContentTemplate}"
                                                >
            
        </local:VideoInfoContentTemplateSelector>
    </Page.Resources>

    <toolkit:DockPanel>
        <!--  Bottom App bar-->
        <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 0 16 0">
                <AppBarButton Icon="Play" 
                          Label="Play" 
                          Command="{Binding PlayVideoCommand}" />

                <AppBarSeparator />

                <AppBarButton Icon="Download"
                              Label="キャッシュを保存"
                              />

                <AppBarButton Icon="Add" 
                              />



            </StackPanel>
        </toolkit:DockPanel>
        <StackPanel toolkit:DockPanel.Dock="Top">

           

            
            <StackPanel Margin="16 0 0 0"
                    toolkit:DockPanel.Dock="Top"
                    >

                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup>

                        <!-- Landscape -->
                        <VisualState>
                            <VisualState.StateTriggers>
                                <AdaptiveTrigger MinWindowWidth="720" />
                            </VisualState.StateTriggers>

                            <VisualState.Setters>
                            </VisualState.Setters>
                        </VisualState>


                        <!-- Portrait -->
                        <VisualState>
                            <VisualState.StateTriggers>
                                <AdaptiveTrigger MinWindowWidth="0" />
                            </VisualState.StateTriggers>

                            <VisualState.Setters>

                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>


                <toolkit:DockPanel Margin="0 0 0 8">

                    <Border toolkit:DockPanel.Dock="Left">
                        <Image Source="{Binding ThumbnailUrl}"
                               Width="90"
                               Margin="8"
                               />
                    </Border>

                    <Border toolkit:DockPanel.Dock="Bottom">
                        <StackPanel Orientation="Horizontal">
                            <StackPanel 
                                x:Name="UserInfo"
                                Background="WhiteSmoke"
                                Orientation="Horizontal"
                                Padding="8"
                                Margin="0"
                                >
                                <Image Source="{Binding UserIconUrl}" 
                                    Margin="0 0 8 0"
                                    Width="32"
                                    Height="32"
                                    />
                                <TextBlock Text="{Binding UserName}"
                                    VerticalAlignment="Center"
                                    />
                            </StackPanel>

                            <StackPanel x:Name="CountInfo"
                                    Orientation="Horizontal" 
                                        VerticalAlignment="Center"
                                    Margin="16 0 0 0"
                                    >
                                <TextBlock Margin="8 0">
                                    <Run Text="再生"/>
                                    <Run Text="{Binding PlayCount}" />
                                        </TextBlock>
                                        <TextBlock Margin="8 0">
                                    <Run Text="コメ"/>
                                    <Run Text="{Binding CommentCount}" />
                                        </TextBlock>
                                        <TextBlock Margin="8 0">
                                    <Run Text="マイ"/>
                                    <Run Text="{Binding MylistCount}" />
                                </TextBlock>
                            </StackPanel>
                            
                        </StackPanel>
                        
                    </Border>

                    

                    <Border Margin="8 8 8 16">
                        <TextBlock Text="{Binding Title}" 
                                   TextWrapping="Wrap"
                                   FontWeight="Bold"
                                   FontSize="20"
                                   />
                    </Border>
                    
                </toolkit:DockPanel>
                
                



                


            </StackPanel>

            
        </StackPanel>

        
        
        <ScrollViewer
                    VerticalScrollMode="Auto"
                    VerticalScrollBarVisibility="Auto"
                >

            <ItemsControl ItemsSource="{Binding VideoInfoContentItems}"
                        ItemTemplateSelector="{StaticResource VideoInfoContentTemplateSelector}"
                          
                        >

                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ContentPresenter">
                        <Setter Property="HorizontalAlignment" Value="Left" />
                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                    </Style>
                </ItemsControl.ItemContainerStyle>
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Vertical" Margin="8" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

            </ItemsControl>

        </ScrollViewer>

    </toolkit:DockPanel>
    
       




    
        
    


</Page>
