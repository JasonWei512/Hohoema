<Page
    x:Class="NicoPlayerHohoema.Views.HistoryPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:NicoPlayerHohoema.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:mvvm="using:Prism.Windows.Mvvm"
    xmlns:view="using:NicoPlayerHohoema.Views"
    mvvm:ViewModelLocator.AutoWireViewModel="True"
    xmlns:win2d="win2d"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <ListBox ItemsSource="{Binding HisotoryVideoInfoItems}"
                         SelectionMode="Multiple"
                              >
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="HorizontalContentAlignment"
                                        Value="Stretch" 
                                        />
                </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <view:VideoInfoControl />

                        <TextBlock HorizontalAlignment="Right"
                                   VerticalAlignment="Top"
                                   Foreground="#55777777"
                                   >
                            <Run Text="{Binding LastWatchedAt}" />
                        </TextBlock>
                        <TextBlock 
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        FontSize="60"
                                        Foreground="#55777777"
                                        Margin="8 0"
                                        >
                            <Run Text="{Binding UserViewCount, Mode=OneTime}" />
                            <Run Text="回" />
                        </TextBlock>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Page>
